import{_ as e,o as t,c as a,b as r}from"./app.f4aabbaf.js";const f=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"javascript/2022-11-25-mysql删除重复数据.md","lastUpdated":1683548525000}'),c={name:"javascript/2022-11-25-mysql删除重复数据.md"},d=r('<p>-- 查询出所有重复的身份证号 （365条记录） select c.hzidCard from DAS_householdcode c GROUP BY c.hzidCard HAVING count(c.hzidCard) &gt; 1 (&#39;1&#39;,&#39;2&#39;,&#39;3&#39;)</p><p>-- 然后根据重复的身份证号码 查询出所有重复的记录 select * from DAS_householdcode s where s.hzidCard in (&#39;1&#39;,&#39;2&#39;,&#39;3&#39;)</p><p>-- 所有重复的记录总共 972</p><p>-- 607+365=972</p><p>-- 查询出要留下那些记录 （留下重复记录中插入时间最晚的记录） select aa.cid from (select <a href="http://c.id" target="_blank" rel="noreferrer">c.id</a> cid, max(c.createtime) ctime from DAS_householdcode c GROUP BY c.hzidCard HAVING count(c.hzidCard) &gt; 1) aa</p><p>-- 查询出要删除的记录（在查处所有重复记录的基础上，然后not in 要留下的记录） select * from DAS_householdcode s where s.hzidCard in (&#39;1&#39;,&#39;2&#39;,&#39;3&#39;) and <a href="http://s.id" target="_blank" rel="noreferrer">s.id</a> not in (select aa.cid from (select <a href="http://c.id" target="_blank" rel="noreferrer">c.id</a> cid, max(c.createtime) ctime from DAS_householdcode c GROUP BY c.hzidCard HAVING count(c.hzidCard) &gt; 1) aa)</p>',6),o=[d];function s(_,i,n,h,l,p){return t(),a("div",null,o)}const u=e(c,[["render",s]]);export{f as __pageData,u as default};
